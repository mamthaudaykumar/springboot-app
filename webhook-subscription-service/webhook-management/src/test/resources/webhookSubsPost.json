{
  "platform": "eCommerce",
  "name": "CustomerCreationWebhook",
  "description": "Webhook for notifying customer creation events",
  "enabled": true,
  "channelId": "customer-events-channel",
  "dataDomain": [
    "customer"
  ],
  "authentication": {
    "type": "HMAC",
    "config": {
      "secretKey": "a1b2c3d4e5f6g7h8i9j0",
      "headerName": "X-Signature",
      "algorithm": "HmacSHA256"
    }
  },
  "webhookConfig": {
    "subscriptions": [
      {
        "subscriptionType": "CUSTOMER_CREATED",
        "enabled": true,
        "destinations": [
          {
            "scriptConfig": {
              "scriptRefName": "customerEventProcessor",
              "headers": {
                "contentType": "application/json",
                "authorization": "Bearer script-token-123"
              }
            },
            "routeConfig": {
              "routeRefName": "customerRoutingRule",
              "dataDomain": "customer",
              "headers": {
                "authorization": "Bearer route-access-token"
              }
            }
          }
        ]
      }
    ]
  }
}
